๐ฃ Replit Agent Brief โ DitonaChat: Canonical Restore & UI Parity

ุงููุฏู ุงูููุงุฆู (Goal):

ุงุณุชุนุงุฏุฉ ุชุทุจูู DitonaChat โูุงูู ุงูููุฒุงุชโ ุจูุงุฌูุฉ Home ู**/chat** ุชูุงููุง ููุง ุตูููู (Tailwind ูุนูุงูุ ุฎูููุฉ heroุ ุดุฑูุท ุงูุฃุฏูุงุชุ Peer meta badgesุ ุงููููููุงุช ุงูุฌุงูุจูุฉโฆ ุฅูุฎ).

ุชูุญูุฏ ุงููุดุฑูุน ูู ุฌุฐุฑ ูุงุญุฏ ูุญุชูู: package.json, src/, public/, tsconfig.json, next.config.mjs, tailwind.config.js, postcss.config.js.

ุฅุตูุงุญ ุจูุงุก ุงูุฅูุชุงุฌ (npm run build) ุจูุง ุฃุฎุทุงุก.

ูุชุญ ูุฑุน ุฅุตูุงุญ + Pull Request ุฅูู GitHub: Alshughriahmed/diton (ุงููุฑุน: main) ูุน ููุทุงุช ุชุญูู.

ูุดุฑ ุนูู Vercel ูุฑุจุท ุงููุชูุฌุฉ ุจู main (ุฃู ุนุจุฑ Merge PR).

๐ ููุฎุต ุงููุดููุฉ ููุง ุญุฏุซ

ูุฏููุง ุนุฏูุฉ ุฌุฐูุฑ/ูุณุฎ ุฏุงุฎู Replit (ูุซู: ditonachat_restored_20250903-222559/โฆ, ditonachat-clean/DitonaChat/โฆ, ููุณุงุฑุงุช src ูุชุนุฏุฏุฉ).

ุงููุฑุน ุงูุญุงูู ุนูู GitHub ุจูููู ููู ุงููุงุฌูุฉ ุนูู Vercel ุชุจุฏู โุฎุงูโ (ุนูุงุตุฑ HTML ุจุฏูู Tailwind) ูููููุฏุช ูููููุงุช ุนุฏูุฏุฉ.

ุณุฌู ุจูุงุก ุงูุฅูุชุงุฌ ูุฐูุฑ ุฃุฎุทุงุก Module not found ููููุงุช ูุซู:

@/components/chat/PeerHeader

@/components/chat/LowerRightQuick

@/components/UpsellModal

@/hooks/useVip

@/components/common/SystemMonitor

@/components/common/HealthIndicator

@/components/chat/FriendsList

@/components/chat/ScreenEffects

@/components/chat/TranslationToggle

ูุฐุง ูุนูู ุฃู ุงูููุฏ ุงููุตุฏุฑ ุงููุงูู ูุชูู ุงููููููุงุช ููุฌูุฏ ูู ููุงู ุขุฎุฑ ุถูู ุงููุฑู ุณุจูุณ (ูุณุฎ ูุฏููุฉ/ูุฌูุฏุงุช Backup)ุ ุฃู ุฃูู ุชุถุฑุฑ ุฃุซูุงุก ุชูุญูุฏ ุงูุฌุฐุฑ.

ูููุชู: ุงุณุชุฎุฏู ูุตููู ุงููุงูู ูุฐุงูุฑุฉ ุงูุณูุงู ููุนุซูุฑ ุนูู ุงููููููุงุช ุงูุฃุตููุฉุ ุชูุญูุฏูุง ูู ุฌุฐุฑ ูุงุญุฏุ ุฅุตูุงุญ ุงูุงุณุชูุฑุงุฏุงุชุ ุชุดุบูู Tailwindุ ูุฅุฑุฌุงุน ุงููุงุฌูุชูู ููุง ูุงูุชุง ุจุงูุถุจุท.

๐งญ ููุงุนุฏ ุงูุฃูุงู (ูุง ูุฎุงุทุฑุฉ)

ูุง ุชุญุฐู ุฃู ุดูุก ููุงุฆููุง. ุฃูุดุฆ ุฏุงุฆููุง ููุทุฉ Snapshot ูุงุจูุฉ ููุงุณุชุฑุฌุงุน ูุจู ุฃู ุชุนุฏูู.

ูู ุงูุนูู ุนูู ูุฑุน ุฌุฏูุฏ: repair-restore-ui-<timestamp>. ูุง ุชุนุฏูู main ูุจุงุดุฑุฉ.

ุฃู ุณูุฑุจุชุงุช ุชุณุชุฎุฏููุง ูุฌุจ ุฃู ุชุนุชูุฏ ุฃุฏูุงุช ุฃุณุงุณูุฉ (bashุ cp/tar/find/rg) โ ุจุฏูู rsync.

ุงุชุฑู ูุฌูุฏุงุช ุงููุณุฎ ุงูุงุญุชูุงุทูุฉ _ops/backups ููุง ููุ ุงุณุชุจุนุฏูุง ูู Git ุจุงูุชุฌุงูู ููุท.

๐งฉ ุฎุทุฉ ุงูุนูู ุงูููุชุฑุญุฉ (ูู ุญุฑูุฉ ุงูุชุญุณูู)
Phase A โ Census (ูุฑุงุกุฉ ููุท)

ุงุนูู ูุณุญูุง ูููู ุงููููุงุช ุงูุชู ุชุจุฏู โุงููุตุฏุฑ ุงูุญููููโ:

ุงุจุญุซ ุนู ุงููููุงุช/ุงููููููุงุช ุงูููููุฏุฉ ุจุงูุฃุณูุงุก ุฃุนูุงู ุนุจุฑ ูุงูู ุงููุฑู ุณุจูุณ.

ุฏููู ูุณุงุฑุงุชูุง ูุชูุงุฑูุฎ ุขุฎุฑ ุชุนุฏูู.

ุงูููุฎุฑูุฌ ุงููุทููุจ: ููู ุชูุฑูุฑ ูุฎุชุตุฑ ูู _ops/reports/CENSUS_<timestamp>.md ูุฐูุฑ:

ูู ุงููุณุงุฑุงุช ุงูุชู ุชุญุชูู ุนูู ุชูู ุงููููููุงุช.

ุฃู src/app ุฅุถุงููุฉ / components / hooks ูุชุฑุงุจุทุฉ.

Phase B โ Create Canonical Snapshot

ุฃูุดุฆ ููุทุฉ โูุงูููููุงูโ ูุงุจูุฉ ููุจูุงุก ูู:
_ops/exports/canonical_snapshot_<timestamp>/

ูุฌุจ ุฃู ุชุญุชูู:
package.json, tsconfig.json, next.config.mjs, postcss.config.js, tailwind.config.js, src/, public/.

ุงููุฃ src/components ู**src/hooks** ุจุงููููููุงุช ุงูุถุงุฆุนุฉ ูู ููุงูุนูุง ุงููุฏููุฉ.

ุชุฃูุฏ ุฃู tsconfig.json ูุญุชูู:

{ "compilerOptions": { "baseUrl": ".", "paths": { "@/*": ["src/*"] } } }


ุชุฃูุฏ ุฃู Tailwind ูุนูู:

postcss.config.js ููู { tailwindcss: {}, autoprefixer: {} }

tailwind.config.js ููู:
content: ["./src/**/*.{js,ts,jsx,tsx,mdx}"]

src/app/globals.css ูุจุฏุฃ ุจู:

@tailwind base;
@tailwind components;
@tailwind utilities;


src/app/layout.tsx ูุณุชูุฑุฏ ./globals.css.

Phase C โ Restore Exact UI Parity

ุตูุญุฉ Home (src/app/page.tsx):

ุฎูููุฉ ุงูุจุทู: public/hero.webp.webp ุตูุฑุฉ ุญููููุฉ (>300KB).

ุนูุตุฑ <main> ูููู:
bg-[url('/hero.webp.webp')] bg-cover bg-center bg-no-repeat

ุตูุญุฉ Chat (src/app/chat/ChatClient.tsx):

ุชุฃูุฏ ูู ูุฌูุฏ ูุงุณุชูุฑุงุฏ ุงููููููุงุช ุงูุชุงููุฉ (ุฃุนุฏ ุชูููู ุงููุณุงุฑุงุช ุชุญุช src/components/... ูsrc/hooks/...):

@/components/chat/PeerHeader

@/components/chat/LowerRightQuick

@/components/UpsellModal

@/hooks/useVip

@/components/common/SystemMonitor

@/components/common/HealthIndicator

@/components/chat/FriendsList

@/components/chat/ScreenEffects

@/components/chat/TranslationToggle

(ุงูููุฌูุฏ ุฃุตููุง) @/components/chat/PeerMeta

@/components/chat/ChatMessages (ุชุธูุฑ ุขุฎุฑ 3 ุฑุณุงุฆู: slice(-3))

ุชุฃูุฏ ูู ุดุฑูุท ุงูุฃุฏูุงุช (Next/Like)ุ ูุฑุณุงุฉ Quick Dockุ ูุจุงุฏุฌุงุช ุงูุฏููุฉ/ุงููุฏููุฉ/ุงูุฌูุฏุฑ (PeerMeta) ูู overlay.

ุตูุญุงุช ุงูุงูุชุซุงู ุงููุงูููู (terms/privacy/dmca/content/abuse/2257) ููุฌูุฏุฉ ุชุญุช src/app/....

Phase D โ Build & Verify

ูู ุฏุงุฎู ุงูู Snapshot:

npm ci ุฃู npm install

npm run build โ ูุฌุจ ุฃู ููุฌุญ ุจูุง ุฃุฎุทุงุก.

ููุทุฉ ุดุงุดุฉ/Log ุฅูู: _ops/reports/BUILD_<timestamp>.log

Phase E โ Repo Canonicalization + PR

ุงูุณุฎ ูุญุชูู ุงูู Snapshot ุฅูู ุฌุฐุฑ ุงูุฑูุจู (ุจุฏูู .git, .next, node_modules, _ops/backups, attached_assets, dist).

ุญุฏูุซ .gitignore ููุดูู ุฃุนูุงู.

ุฃูุดุฆ ูุฑุน: repair-restore-ui-<timestamp>

ููููุช ูุงุถุญ:
feat(ui): restore full DitonaChat UI + components + tailwind

ุงุฏูุน ุฅูู GitHub: Alshughriahmed/diton ูุงูุชุญ PR ุฅูู main ูุน ูุตู ูุง ุชูู.

ุงุฑุจุท PR ุจุงูุชุญูู (ููุทุงุชุ ุชูุงุฑูุฑ).

Phase F โ Vercel

ุชุฃููุฏ ุฃู ุงููุดุฑูุน ุนูู Vercel ูุฑุชุจุท ุจูุฑุน main ููุฐุง ุงูุฑูุจู.

ุจุนุฏ ุฏูุฌ ุงูู PR (ุฃู ูู ุณุญุจ ุงููุนุงููุฉ)ุ ุชุฃูุฏ ุฃู:

ุตูุญุฉ / ุชุนุฑุถ ุงูุฎูููุฉ ู ุงูู Tailwind ูุงููุงู.

ุตูุญุฉ /chat ุชุนุฑุถ ุงูุดุฑูุท ูุงูุจุงุฏุฌุงุช ูุงูููููุงุช ุจุงูุชุตููู ุงููุชูู ุนููู.

ุงุฑูุน ุตูุฑุชู ุดุงุดุฉ (Home + Chat) ุฅูู _ops/exports/verify_<timestamp>/.

โ Acceptance Checklist (ุฃุฑููููุง ูู ุชูุฑูุฑ ุฃุฎูุฑ)

 ุฌุฐุฑ ูุงุญุฏ ููุท ูุญูู src/, public/, ูููุงุช ุงูุฅุนุฏุงุฏ.

 ูู ุงููููููุงุช ุงููุฐููุฑุฉ ููุฌูุฏุฉ ุชุญุช src/components/โฆ ู src/hooks/โฆ ูุชูุจูู ุจูุง ุฃุฎุทุงุก.

 Tailwind ูุนูุงู (ุชุบููุฑุงุช ุงูู CSS ุธุงูุฑุฉุ ุนูุงุตุฑ ูุฒูููุฉ).

 public/hero.webp.webp ุญูููู ูููุณุชุฎุฏู ูู Home.

 ChatMessages ูุนุฑุถ ุขุฎุฑ 3 ุฑุณุงุฆู (ุชุญูู ุจุฑูุฒ ุฃู ููุฌ).

 ุดุฑูุท ุงูุฃุฏูุงุช ูQuick Dock ูPeerMeta ุธุงูุฑุฉ ุนูู /chat.

 npm run build ููุฌุญ (ุฃุฑููู log).

 PR ููุชูุญ ุจุงุณู ูุงุถุญ ุฅูู main ูู Alshughriahmed/diton ูุน ูุตู/ููุทุงุช.

 ูุดุฑ Vercel ูุธูุฑ ุงููุงุฌูุชูู ููุง ูู ุงูุตูุฑ ุงููุฑุฌุนูุฉ (Home + Chat).

โน๏ธ ููุงุญุธุงุช ูุฑุฌุนูุฉ ูููููู

ุชูุช ุฑุคูุฉ ููููุงุชูุง ุณุงุจููุง ููุฒูุนุฉ ุถูู ูุฌูุฏุงุช ูุซู:

ditonachat_restored_20250903-222559/**

ditonachat-clean/DitonaChat/**

_ops/backups/**

ุงูุงุณุชูุฑุงุฏ ูุณุชุฎุฏู alias @/ โฆ src/*. ุฃู ููููู ุชุนุซุฑ ุนููู ุงูููู ุฅูู ุงูุจููุฉ ุงูููุงุณุจุฉ ูุนุฏูู ุงูุงุณุชูุฑุงุฏุงุช ุฅู ูุฒู.

ุฅู ุชุนุฐูุฑ ุงูุนุซูุฑ ุนูู ููููู ููุนุงุฏ ุจูุงุคู ูุณุคูููุฉู ููู ููู ุจููุณ ุงููุงุฌูุฉ (props) ูุจุญุฏ ุฃุฏูู ูู ุงูุดูู (ูุน Tailwind) ุญุชู ููุฑู ุงูุจูุงุก ูุชุนูุฏ ุงููุงุฌูุฉ ููุง ูุงูุช.

๐งพ ุณุทุฑ ูุจูู ูุฎุชุตุฑ ุงุทุจุนู ุนูุฏ ุงูููุงูุฉ

ุฑุฌุงุกู ุงุทุจุน ุณุทุฑูุง ูุซู:

-- Acceptance --
PHASES=A..F OK
SNAPSHOT=_ops/exports/canonical_snapshot_<ts>
BUILD=SUCCESS
PR_URL=<link>
VERCEL_URL=<deployment url>
UI_PARITY=HOME_OK, CHAT_OK
-- End Acceptance --


ุดูุฑุงู โ ูููุฐ ุงูุฎุทุฉ ุจุฃุฐูู ูุฃูุตุฑ ุทุฑูู ุชุฑุงูุง ููุงุณุจุงูุ ูุน ุงูุงูุชุฒุงู ุงูุชุงู ุจุนูุงุตุฑ ุงููุจูู ุฃุนูุงู.