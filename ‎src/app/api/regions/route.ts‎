// src/app/api/regions/route.ts
import { NextResponse } from "next/server";

export const runtime = "nodejs";
export const dynamic = "force-dynamic";
export const revalidate = 0;

// Minimal static regions list. Extend later if needed.
const REGIONS = {
  countries: [
    { code: "DE", name: "Germany" },
    { code: "US", name: "United States" },
    { code: "GB", name: "United Kingdom" },
    { code: "FR", name: "France" },
    { code: "IT", name: "Italy" },
    { code: "ES", name: "Spain" },
    { code: "CA", name: "Canada" },
    { code: "TR", name: "TÃ¼rkiye" },
    { code: "SA", name: "Saudi Arabia" },
    { code: "AE", name: "United Arab Emirates" },
  ],
};

function noStoreHeaders() {
  return { "cache-control": "no-store" };
}

export async function GET() {
  return NextResponse.json(REGIONS, { headers: noStoreHeaders() });
}

export async function OPTIONS() {
  return new Response(null, { status: 204, headers: noStoreHeaders() });
}
